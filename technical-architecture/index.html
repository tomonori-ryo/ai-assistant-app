
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="生成AIサービス「AIパーソナル秘書」のシステム・API・技術ドキュメント">
      
      
      
        <link rel="canonical" href="https://tomonori-ryo.github.io/ai-assistant-app/technical-architecture/">
      
      
        <link rel="prev" href="../api-specification/">
      
      
        <link rel="next" href="../user-manual/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>技術アーキテクチャ - AIパーソナル秘書ドキュメント</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#-ai" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href=".." title="AIパーソナル秘書ドキュメント" class="md-header__button md-logo" aria-label="AIパーソナル秘書ドキュメント" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AIパーソナル秘書ドキュメント
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              技術アーキテクチャ
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/tomonori-ryo/ai-assistant-app" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    tomonori-ryo/ai-assistant-app
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  ホーム

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../system-specification/" class="md-tabs__link">
        
  
  
    
  
  システム仕様

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api-specification/" class="md-tabs__link">
        
  
  
    
  
  API仕様

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  技術アーキテクチャ

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../user-manual/" class="md-tabs__link">
        
  
  
    
  
  ユーザーマニュアル

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AIパーソナル秘書ドキュメント" class="md-nav__button md-logo" aria-label="AIパーソナル秘書ドキュメント" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AIパーソナル秘書ドキュメント
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tomonori-ryo/ai-assistant-app" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    tomonori-ryo/ai-assistant-app
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ホーム
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    システム仕様
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API仕様
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    技術アーキテクチャ
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    技術アーキテクチャ
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. システム全体アーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. システム全体アーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. アーキテクチャ概要図
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. テクノロジースタック
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2. テクノロジースタック">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      フロントエンド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      バックエンド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      データベース
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai" class="md-nav__link">
    <span class="md-ellipsis">
      AI・機械学習
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      インフラ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. マイクロサービス設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. マイクロサービス設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. サービス一覧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1. サービス一覧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chat-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      Chat API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai-engine-service" class="md-nav__link">
    <span class="md-ellipsis">
      AI Engine Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ocr-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      OCR API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notification-service" class="md-nav__link">
    <span class="md-ellipsis">
      Notification Service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. サービス間通信
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. データベース設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. データベース設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. PostgreSQL スキーマ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. PostgreSQL スキーマ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    <span class="md-ellipsis">
      Users テーブル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events テーブル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks テーブル
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-redis" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Redis キャッシュ設計
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ai" class="md-nav__link">
    <span class="md-ellipsis">
      4. AI・機械学習アーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. AI・機械学習アーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. 自然言語処理パイプライン
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. 優先度算出アルゴリズム
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. セキュリティアーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. セキュリティアーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. 認証・認可フロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. データ暗号化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. プライバシー保護
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 監視・ログ設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 監視・ログ設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. 監視メトリクス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1. 監視メトリクス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      アプリケーションメトリクス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      インフラメトリクス
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. 構造化ログ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. デプロイメント・インフラ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. デプロイメント・インフラ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Kubernetes デプロイ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-cicd" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. CI/CD パイプライン
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ユーザーマニュアル
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. システム全体アーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. システム全体アーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. アーキテクチャ概要図
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. テクノロジースタック
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2. テクノロジースタック">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      フロントエンド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      バックエンド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      データベース
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai" class="md-nav__link">
    <span class="md-ellipsis">
      AI・機械学習
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      インフラ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. マイクロサービス設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. マイクロサービス設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. サービス一覧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1. サービス一覧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chat-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      Chat API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai-engine-service" class="md-nav__link">
    <span class="md-ellipsis">
      AI Engine Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ocr-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      OCR API Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notification-service" class="md-nav__link">
    <span class="md-ellipsis">
      Notification Service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. サービス間通信
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. データベース設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. データベース設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. PostgreSQL スキーマ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. PostgreSQL スキーマ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    <span class="md-ellipsis">
      Users テーブル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events テーブル
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks テーブル
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-redis" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Redis キャッシュ設計
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ai" class="md-nav__link">
    <span class="md-ellipsis">
      4. AI・機械学習アーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. AI・機械学習アーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. 自然言語処理パイプライン
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. 優先度算出アルゴリズム
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. セキュリティアーキテクチャ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. セキュリティアーキテクチャ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. 認証・認可フロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. データ暗号化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. プライバシー保護
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 監視・ログ設計
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 監視・ログ設計">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. 監視メトリクス
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1. 監視メトリクス">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      アプリケーションメトリクス
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      インフラメトリクス
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. 構造化ログ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. デプロイメント・インフラ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. デプロイメント・インフラ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Kubernetes デプロイ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-cicd" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. CI/CD パイプライン
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="-ai">技術アーキテクチャ - AIパーソナル秘書システム<a class="headerlink" href="#-ai" title="Permanent link">&para;</a></h1>
<p><strong>バージョン:</strong> 1.0<br />
<strong>作成日:</strong> 2025年10月29日</p>
<hr />
<h2 id="1">1. システム全体アーキテクチャ<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11">1.1. アーキテクチャ概要図<a class="headerlink" href="#11" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────┐
│                    Client Layer                               │
├─────────────────────┬─────────────────────┬─────────────────┤
│   Mobile App        │    Web App          │   API Clients   │
│   (React Native)    │    (React)          │   (3rd Party)   │
└─────────────────────┴─────────────────────┴─────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────┐
│                 API Gateway Layer                            │
├─────────────────────────────────────────────────────────────┤
│  Rate Limiting │ Authentication │ Load Balancing │ Logging  │
└─────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────┐
│                 Microservices Layer                          │
├───────────────┬────────────────┬────────────────┬───────────┤
│   Chat API    │  Schedule API  │   AI Engine    │ OCR API   │
│   Service     │   Service      │   Service      │ Service   │
└───────────────┴────────────────┴────────────────┴───────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────┐
│                   Data Layer                                 │
├─────────────────┬─────────────────┬─────────────────────────┤
│   PostgreSQL    │     Redis       │    File Storage         │
│   (Main DB)     │   (Cache)       │    (AWS S3)             │
└─────────────────┴─────────────────┴─────────────────────────┘
</code></pre>
<h3 id="12">1.2. テクノロジースタック<a class="headerlink" href="#12" title="Permanent link">&para;</a></h3>
<h4 id="_1">フロントエンド<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>モバイル:</strong> React Native 0.72+</li>
<li><strong>Web:</strong> React 18+ + TypeScript</li>
<li><strong>状態管理:</strong> Redux Toolkit + RTK Query</li>
<li><strong>UI:</strong> React Native Elements / Material-UI</li>
</ul>
<h4 id="_2">バックエンド<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>API:</strong> FastAPI (Python 3.11+)</li>
<li><strong>認証:</strong> JWT + OAuth 2.0</li>
<li><strong>タスクキュー:</strong> Celery + Redis</li>
<li><strong>API Gateway:</strong> Kong / AWS API Gateway</li>
</ul>
<h4 id="_3">データベース<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>メインDB:</strong> PostgreSQL 15+</li>
<li><strong>キャッシュ:</strong> Redis 7+</li>
<li><strong>ファイルストレージ:</strong> AWS S3 / MinIO</li>
<li><strong>検索:</strong> Elasticsearch (ログ・分析用)</li>
</ul>
<h4 id="ai">AI・機械学習<a class="headerlink" href="#ai" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>LLM:</strong> OpenAI GPT-4 / Anthropic Claude</li>
<li><strong>OCR:</strong> Google Cloud Vision API</li>
<li><strong>自然言語処理:</strong> spaCy + 独自モデル</li>
</ul>
<h4 id="_4">インフラ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>コンテナ:</strong> Docker + Docker Compose</li>
<li><strong>オーケストレーション:</strong> Kubernetes</li>
<li><strong>CI/CD:</strong> GitHub Actions</li>
<li><strong>監視:</strong> Prometheus + Grafana</li>
</ul>
<hr />
<h2 id="2">2. マイクロサービス設計<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="21">2.1. サービス一覧<a class="headerlink" href="#21" title="Permanent link">&para;</a></h3>
<h4 id="chat-api-service">Chat API Service<a class="headerlink" href="#chat-api-service" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務:</strong> 自然言語入力の処理、チャットボット機能</li>
<li><strong>技術:</strong> FastAPI + OpenAI API</li>
<li><strong>データ:</strong> チャット履歴、ユーザーコンテキスト</li>
</ul>
<h4 id="schedule-api-service">Schedule API Service<a class="headerlink" href="#schedule-api-service" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務:</strong> カレンダー・タスク管理、CRUD操作</li>
<li><strong>技術:</strong> FastAPI + SQLAlchemy</li>
<li><strong>データ:</strong> イベント、タスク、スケジュール</li>
</ul>
<h4 id="ai-engine-service">AI Engine Service<a class="headerlink" href="#ai-engine-service" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務:</strong> 優先順位算出、提案ロジック、動的リスケジュール</li>
<li><strong>技術:</strong> Python + scikit-learn + 独自アルゴリズム</li>
<li><strong>データ:</strong> ユーザー行動データ、学習モデル</li>
</ul>
<h4 id="ocr-api-service">OCR API Service<a class="headerlink" href="#ocr-api-service" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務:</strong> 画像からのテキスト抽出、スケジュール解析</li>
<li><strong>技術:</strong> Python + Google Vision API</li>
<li><strong>データ:</strong> 画像ファイル、抽出結果</li>
</ul>
<h4 id="notification-service">Notification Service<a class="headerlink" href="#notification-service" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務:</strong> プッシュ通知、集中モード制御</li>
<li><strong>技術:</strong> Node.js + Firebase FCM</li>
<li><strong>データ:</strong> 通知履歴、設定</li>
</ul>
<h3 id="22">2.2. サービス間通信<a class="headerlink" href="#22" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># API Gateway → Chat Service (HTTP REST)
POST /api/v1/chat/input
{
    &quot;user_id&quot;: &quot;user_123&quot;,
    &quot;message&quot;: &quot;明日19時から会議&quot;,
    &quot;context&quot;: &quot;schedule&quot;
}

# Chat Service → AI Engine (gRPC)
rpc ProcessNaturalLanguage(NLPRequest) returns (NLPResponse);

# AI Engine → Schedule Service (HTTP)
POST /internal/schedule/create
{
    &quot;user_id&quot;: &quot;user_123&quot;,
    &quot;event&quot;: {...}
}
</code></pre>
<hr />
<h2 id="3">3. データベース設計<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="31-postgresql">3.1. PostgreSQL スキーマ<a class="headerlink" href="#31-postgresql" title="Permanent link">&para;</a></h3>
<h4 id="users">Users テーブル<a class="headerlink" href="#users" title="Permanent link">&para;</a></h4>
<pre><code class="language-sql">CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    timezone VARCHAR(50) DEFAULT 'UTC',
    settings JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
</code></pre>
<h4 id="events">Events テーブル<a class="headerlink" href="#events" title="Permanent link">&para;</a></h4>
<pre><code class="language-sql">CREATE TABLE events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id) ON DELETE CASCADE,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    start_time TIMESTAMP WITH TIME ZONE NOT NULL,
    end_time TIMESTAMP WITH TIME ZONE,
    category event_category DEFAULT 'other',
    priority_score INTEGER DEFAULT 0,
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TYPE event_category AS ENUM (
    'work_study', 'life_chores', 'leisure', 'other'
);
</code></pre>
<h4 id="tasks">Tasks テーブル<a class="headerlink" href="#tasks" title="Permanent link">&para;</a></h4>
<pre><code class="language-sql">CREATE TABLE tasks (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id) ON DELETE CASCADE,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    due_date TIMESTAMP WITH TIME ZONE,
    completed_at TIMESTAMP WITH TIME ZONE,
    priority_score INTEGER DEFAULT 0,
    category event_category DEFAULT 'other',
    parent_task_id UUID REFERENCES tasks(id),
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
</code></pre>
<h3 id="32-redis">3.2. Redis キャッシュ設計<a class="headerlink" href="#32-redis" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># ユーザーセッション
&quot;session:user_123&quot; → {
    &quot;access_token&quot;: &quot;jwt_token&quot;,
    &quot;refresh_token&quot;: &quot;refresh_token&quot;, 
    &quot;expires_at&quot;: &quot;2025-10-29T18:00:00Z&quot;
}

# 今日のタスクキャッシュ
&quot;daily_tasks:user_123:2025-10-29&quot; → [
    {&quot;id&quot;: &quot;task_1&quot;, &quot;priority&quot;: 9, &quot;title&quot;: &quot;企画書作成&quot;},
    {&quot;id&quot;: &quot;task_2&quot;, &quot;priority&quot;: 7, &quot;title&quot;: &quot;会議準備&quot;}
]

# AI提案キャッシュ
&quot;ai_suggestions:user_123&quot; → {
    &quot;free_time_slots&quot;: [...],
    &quot;generated_at&quot;: &quot;2025-10-29T12:00:00Z&quot;,
    &quot;expires_in&quot;: 1800
}
</code></pre>
<hr />
<h2 id="4-ai">4. AI・機械学習アーキテクチャ<a class="headerlink" href="#4-ai" title="Permanent link">&para;</a></h2>
<h3 id="41">4.1. 自然言語処理パイプライン<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">class NLPPipeline:
    def __init__(self):
        self.tokenizer = spacy.load(&quot;ja_core_news_sm&quot;)
        self.llm_client = OpenAIClient()
        self.date_parser = DateParser()

    def process(self, text: str, user_context: dict) -&gt; ParsedEvent:
        # 1. 前処理・トークン化
        tokens = self.tokenizer(text)

        # 2. エンティティ抽出
        entities = self.extract_entities(tokens)

        # 3. LLMによる意図解析
        intent = self.llm_client.analyze_intent(
            text, user_context, entities
        )

        # 4. 構造化データ生成
        return self.generate_structured_event(intent, entities)
</code></pre>
<h3 id="42">4.2. 優先度算出アルゴリズム<a class="headerlink" href="#42" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">class PriorityScoring:
    def calculate_score(self, task: Task, user: User) -&gt; float:
        # 基本スコア計算
        deadline_score = self._calc_deadline_score(task.due_date)
        importance_score = self._calc_importance_score(task.category)
        effort_score = self._calc_effort_score(task.estimated_duration)

        # ユーザー履歴による重み付け
        personal_weight = self._calc_personal_weight(task, user)

        # 最終スコア
        return (
            deadline_score * 0.4 +
            importance_score * 0.3 +
            effort_score * 0.2 +
            personal_weight * 0.1
        )
</code></pre>
<hr />
<h2 id="5">5. セキュリティアーキテクチャ<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<h3 id="51">5.1. 認証・認可フロー<a class="headerlink" href="#51" title="Permanent link">&para;</a></h3>
<pre><code>1. ユーザーログイン
   ├── メール・パスワード検証
   ├── JWTアクセストークン発行 (1時間)
   └── リフレッシュトークン発行 (30日)

2. API リクエスト
   ├── JWTトークン検証
   ├── ユーザー権限確認  
   └── レート制限チェック

3. トークンリフレッシュ
   ├── リフレッシュトークン検証
   └── 新しいアクセストークン発行
</code></pre>
<h3 id="52">5.2. データ暗号化<a class="headerlink" href="#52" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>転送時暗号化:</strong> TLS 1.3</li>
<li><strong>保存時暗号化:</strong> AES-256-GCM</li>
<li><strong>データベース:</strong> PostgreSQL の透過的データ暗号化</li>
<li><strong>ファイル:</strong> S3 Server-Side Encryption</li>
</ul>
<h3 id="53">5.3. プライバシー保護<a class="headerlink" href="#53" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># 個人情報の匿名化
class DataAnonymizer:
    def anonymize_user_data(self, data: dict) -&gt; dict:
        return {
            &quot;user_id&quot;: self.hash_user_id(data[&quot;user_id&quot;]),
            &quot;events&quot;: self.anonymize_events(data[&quot;events&quot;]),
            &quot;created_at&quot;: data[&quot;created_at&quot;]  # タイムスタンプは保持
        }
</code></pre>
<hr />
<h2 id="6">6. 監視・ログ設計<a class="headerlink" href="#6" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1. 監視メトリクス<a class="headerlink" href="#61" title="Permanent link">&para;</a></h3>
<h4 id="_5">アプリケーションメトリクス<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<ul>
<li>API レスポンス時間（95パーセンタイル &lt; 2秒）</li>
<li>エラーレート（&lt; 1%）</li>
<li>AI処理精度（&gt; 95%）</li>
<li>ユーザーアクティブ数</li>
</ul>
<h4 id="_6">インフラメトリクス<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<ul>
<li>CPU使用率（&lt; 80%）</li>
<li>メモリ使用率（&lt; 85%）</li>
<li>ディスクI/O</li>
<li>ネットワーク帯域</li>
</ul>
<h3 id="62">6.2. 構造化ログ<a class="headerlink" href="#62" title="Permanent link">&para;</a></h3>
<pre><code class="language-json">{
  &quot;timestamp&quot;: &quot;2025-10-29T12:00:00Z&quot;,
  &quot;level&quot;: &quot;INFO&quot;,
  &quot;service&quot;: &quot;chat-api&quot;,
  &quot;user_id&quot;: &quot;user_123&quot;,
  &quot;request_id&quot;: &quot;req_456&quot;,
  &quot;event&quot;: &quot;nlp_processing&quot;,
  &quot;duration_ms&quot;: 150,
  &quot;ai_confidence&quot;: 0.95,
  &quot;metadata&quot;: {
    &quot;input_type&quot;: &quot;text&quot;,
    &quot;output_events&quot;: 1
  }
}
</code></pre>
<hr />
<h2 id="7">7. デプロイメント・インフラ<a class="headerlink" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71-kubernetes">7.1. Kubernetes デプロイ<a class="headerlink" href="#71-kubernetes" title="Permanent link">&para;</a></h3>
<pre><code class="language-yaml"># chat-api-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: chat-api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: chat-api
  template:
    spec:
      containers:
      - name: chat-api
        image: ai-assistant/chat-api:v1.0.0
        resources:
          requests:
            memory: &quot;256Mi&quot;
            cpu: &quot;250m&quot;
          limits:
            memory: &quot;512Mi&quot;
            cpu: &quot;500m&quot;
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: url
</code></pre>
<h3 id="72-cicd">7.2. CI/CD パイプライン<a class="headerlink" href="#72-cicd" title="Permanent link">&para;</a></h3>
<pre><code class="language-yaml"># .github/workflows/deploy.yml
name: Deploy
on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run tests
        run: pytest tests/

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Build Docker image
        run: docker build -t ai-assistant/chat-api:${{ github.sha }} .

      - name: Deploy to K8s
        run: kubectl apply -f k8s/
</code></pre>
<hr />
<p><strong>文書更新日:</strong> 2025年10月29日</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "content.code.copy", "toc.follow"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>